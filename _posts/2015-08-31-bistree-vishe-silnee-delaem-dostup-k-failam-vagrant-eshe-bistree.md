---
layout: post
post_title: Быстрее, выше, сильнее! Делаем доступ к файлам vagrant еще быстрее.
description: Настраиваем vagrant для более быстрого доступа к файлам общей папки
keywords: настраиваем, vagrant, nfs, gulp медленно компилирует, виртуальная машина, скорость, ускоряем, gulp watch, proskurnov, aproskurnov
---
<p>
    После монтирования общей папки для vagrant с помощью nfs, описанного 
    <a href="/2015/05/28/shared-folder-bez-nfs-vremia-na-veter-uskoriaem-razrabotku-v-vagrant.html">здесь</a>, 
    казалось бы жизнь запестрила яркими красками и разработка стала достаточно комфортной, 
    но нет пределов совершенству. 
</p>
<p>
    При появлении необходимости следить за автоматической сборкой проекта при разработке фронта с помощью gulp.watch,
     оказалось что gulp замечает изменения вносимые в js или less файлы через довольно внушительное время. 
     Получилось что при достаточно быстрой компиляции, время доступа к файлам было неприемлемо большим. 
 </p>
<p>
    Для того чтобы решить эту проблему достаточно изменить конфиг vagrant, добавив в опцию 
    <pre class="prettyprint">actimeo=2</pre>
    <pre class="prettyprint">
    config.vm.synced_folder "host_path/", "/guest_path", 
        type: "nfs", 
        mount_options: ['vers=3','tcp','actimeo=2']
    </pre>
</p>
<p>
Запускаем виртуальную машину, 
запускаем gulp.watch для проекта, вносим в него изменения и даже на глаз можем заметить как 
уменьшилось время между внесением изменений в файл и автоматическим перезапуском сборки.
</p>
<p>
Рабочую машину с настроеным конфигом и предустановленным софтом с помощью ansible вы можете посмотреть 
<a href="https://bitbucket.org/aproskurnov/experiment_vagrant_box">здесь</a>
</p>